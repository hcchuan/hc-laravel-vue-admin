(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ad47e3c"],{"630e":function(e,r,t){"use strict";var a=t("7fba"),s=t.n(a);s.a},"7fba":function(e,r,t){},d344:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"220px"}},[t("el-form-item",{attrs:{label:"用户名称",prop:"name"}},[t("el-col",{attrs:{span:10}},[t("el-input",{model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e._v(" "),t("el-col",{attrs:{span:14}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用户邮箱",prop:"email"}},[t("el-col",{attrs:{span:10}},[t("el-input",{model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),e._v(" "),t("el-col",{attrs:{span:14}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-col",{attrs:{span:10}},[t("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),e._v(" "),t("el-col",{attrs:{span:14}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[t("el-col",{attrs:{span:10}},[t("el-input",{attrs:{type:"password"},model:{value:e.form.checkPass,callback:function(r){e.$set(e.form,"checkPass",r)},expression:"form.checkPass"}})],1),e._v(" "),t("el-col",{attrs:{span:14}})],1),e._v(" "),t("el-form-item",{attrs:{label:"赋值角色",prop:"roles"}},[[t("el-checkbox-group",{on:{change:e.handleCheckedRolesChange},model:{value:e.form.checkedRoles,callback:function(r){e.$set(e.form,"checkedRoles",r)},expression:"form.checkedRoles"}},e._l(e.form.roles,function(r){return t("el-checkbox",{key:r.id,attrs:{label:r.id}},[e._v(e._s(r.name))])}),1)]],2),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.onSubmit("form")}}},[e._v("提交")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)},s=[],o=(t("7f7f"),t("c24f")),l={data:function(){var e=this,r=function(r,t,a){""!==e.form.password&&e.$refs.form.validateField("checkPass"),a()},t=function(r,t,a){void 0===t&&(t=""),t!==e.form.password?a(new Error("两次输入密码不一致!")):a()};return{checkAll:!1,form:{name:"",email:"",password:"",checkedRoles:[],roles:[],isIndeterminate:!0,loading:!1},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],password:[{validator:r,trigger:"blur"}],checkPass:[{validator:t,trigger:"blur"}]},redirect:"/user"}},created:function(){this.id=this.$route.params.id,this.getData(this.id)},methods:{getData:function(e){var r=this;Object(o["b"])(e).then(function(e){r.loading=!1,200===e.code?(r.form.name=e.data.user.name,r.form.email=e.data.user.email,r.form.roles=e.data.roles,r.form.checkedRoles=e.data.checkedRoles,r.form.roles.length===r.form.checkedRoles.length&&(r.checkAll=!0)):r.$message.error(e.reason)})},fetchData:function(){var e=this;this.listLoading=!0,Object(o["e"])().then(function(r){e.form.roles=r.data.roles,e.listLoading=!1})},handleCheckedRolesChange:function(e){var r=e.length;this.isIndeterminate=r>0&&r<this.form.roles.length},onSubmit:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.loading=!0,Object(o["i"])(r.id,r.form).then(function(e){r.loading=!1,200===e.code?(r.$message({message:"操作成功",type:"success"}),r.$router.push({path:r.redirect||"/"})):r.$message.error(e.reason)})})},onCancel:function(){this.$message({message:"cancel!",type:"warning"})},resetForm:function(e){this.$refs[e].resetFields()}}},n=l,c=(t("630e"),t("0c7c")),i=Object(c["a"])(n,a,s,!1,null,"0c013a75",null);r["default"]=i.exports}}]);